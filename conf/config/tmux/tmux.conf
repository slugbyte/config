# unbind most things
unbind C-b
unbind C-u
unbind C-d
unbind -n Tab
unbind 'C-o'
unbind 'C-z'
unbind 'DC'
unbind 'PPage'
unbind 'Space'
unbind '!'
unbind '&'
unbind "'"
# unbind "~"
unbind '"'
unbind "%"
unbind "$"
unbind "["
unbind "]"
unbind "}"
unbind "{"
unbind ")"
unbind "("
unbind "@"
unbind "#"
unbind "="
unbind "*"
unbind "+"
unbind "-"
# unbind "?"
unbind ";"
unbind "|"
unbind "^"
unbind "/"
unbind ","
unbind "."

unbind "M-1"
unbind "M-2"
unbind "M-3"
unbind "M-4"
unbind "M-5"
unbind "M-6"
unbind "M-1"

unbind "M-n"
unbind "M-o"
unbind "M-p"
unbind "M-Up"
unbind "M-Down"
unbind "M-Left"
unbind "M-Right"
unbind "S-Up"
unbind "S-Down"
unbind "S-Left"
unbind "S-Right"
unbind 0
unbind 1
unbind 2
unbind 3
unbind 4
unbind 5
unbind 6
unbind 7
unbind 8
unbind 9
unbind a
unbind b
unbind c
unbind d
unbind e
unbind f
unbind g
unbind h
unbind i
unbind j
unbind k
unbind l
unbind m
unbind n
unbind o
unbind p
unbind q
unbind r
unbind s
unbind t
unbind u
unbind v
unbind w
unbind x
unbind y
unbind z
unbind A
unbind B
unbind C
unbind D
unbind E
unbind F
unbind G
unbind H
unbind I
unbind J
unbind K
unbind L
unbind M
unbind N
unbind O
unbind P
unbind Q
unbind R
unbind S
unbind T
unbind U
unbind V
unbind W
unbind X
unbind Y
unbind Z

# -- OPTIONS --
set-option -g mouse on
set-window-option -g mode-keys vi
set -g default-terminal "alacritty"

# -- THEME --
set-option -g status-bg colour234
set-option -g status-fg colour0
set -g window-status-format  ' #I #W '
set -g window-status-style 'fg=colour245'
set -g window-status-current-format  ' (#I) #W '
set -g window-status-current-style 'bg=colour16,fg=colour15,bold'
set -g status-left ''
set -g status-right '#[bg=#4e4e4e]#[fg=#ffffff]'
set -g mode-style 'bg=colour197,fg=colour16'

# -- NORMAL MODE --
# [C-t] is hotkey
set -g prefix C-t

# [C-t c] clear screen
bind-key c send-keys 'C-l'

# [C-t n] new window
bind-key n new-window -c "#{pane_current_path}" -n ""

# [C-x x] close pane
bind-key x kill-pane

# [C-t o] next window
bind-key o next-window

# [C-t Space] next window
bind-key Space next-window

# [C-t y] previous-window
bind-key y previous-window

# [C-t l] next layout
bind-key l next-layout

# [C-t s] split window (vertical)
bind-key s split-window -h -c "#{pane_current_path}"

# [C-t h] split window (horizontal)
bind-key h split-window -v -c "#{pane_current_path}"

# is_app_focus is true if vim/nvim/view/weechat or is present
is_app_focus="ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?|weechat)(diff)?$'"

# [C-y] focus left
bind-key -n 'C-y' if-shell "$is_app_focus" 'send-keys C-y'  'select-pane -L'

# [C-n] focus down
bind-key -n 'C-n' if-shell "$is_app_focus" 'send-keys C-n'  'select-pane -D'

# [C-e] focus up
bind-key -n 'C-e' if-shell "$is_app_focus" 'send-keys C-e'  'select-pane -U'

# [C-r] focus up
bind-key -n 'C-o' if-shell "$is_app_focus" 'send-keys C-o'  'select-pane -R'

# [C-t f] full screen current pane
bind-key f break-pane -t :

# [C-t g] current pane goto seleced window
bind-key g choose-window 'join-pane -v -t "%%"'

# [C-t R] rotate window
bind-key R rotate-window

# [C-t ,] swap pane prev
bind-key , swap-pane -U

# [C-t .] swap pane next
bind-key . swap-pane -D

# [C-t r] rename pane
bind-key r command-prompt "rename-window '%%'"

# [C-t Y] resize grow left
bind-key Y resize-pane -L 15
# [C-t N] resize grow down
bind-key N resize-pane -D 15
# [C-t E] resize grow up
bind-key E resize-pane -U 15
# [C-t O] resize grow right
bind-key O resize-pane -R 15

# [C-t p] paste
bind-key p paste-buffer

# [C-t v] visual mode (called copy mode in tmux)
bind-key v copy-mode

## -- VISUAL MODE --
# [copy mode](v) begin selection
bind-key -T copy-mode-vi v send-keys -X begin-selection
# [copy mode](v) copy selection
bind-key -T copy-mode-vi k send-keys -X copy-selection
# [copy mode](y) left
bind-key -T copy-mode-vi y send-keys -X cursor-left
# [copy mode](n) down
bind-key -T copy-mode-vi n send-keys -X cursor-down
# [copy mode](e) up
bind-key -T copy-mode-vi e send-keys -X cursor-up
# [copy mode](e) right
bind-key -T copy-mode-vi o send-keys -X cursor-right
# [copy mode](f) repeat last search
bind-key -T copy-mode-vi f send-keys -X search-again
# [copy mode](F) repeat last search backwards
bind-key -T copy-mode-vi F send-keys -X search-reverse
# [copy mode](Y) goto beginning of line
bind-key -T copy-mode-vi Y send-keys -X start-of-line
# [copy mode](O) goto end of line
bind-key -T copy-mode-vi O send-keys -X end-of-line
# [copy mode](N) go down half a page
bind-key -T copy-mode-vi N send-keys -X halfpage-down
# [copy mode](E) go up half a page
bind-key -T copy-mode-vi E send-keys -X halfpage-up
# [copy mode](w) go to next word
bind-key -T copy-mode-vi w send-keys -X next-word
# [copy mode](w) go to prev word
bind-key -T copy-mode-vi W send-keys -X previous-word

## -- CHOICE MODE --
# [choise mode](n) next choise (down)
bind-key -T choice-mode n send-keys -X down

# [choise mode](e) prev choise (up)
bind-key -T choice-mode e send-keys -X up
