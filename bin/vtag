#!/bin/bash

if [[ -d ./.jj ]]; then
    echo "ERROR: vtag not supported in jj repositories"
    exit 1
fi

tag_name="$1"
commit="${2:-HEAD}"

if [[ -z "$tag_name" ]]; then
    echo "ERROR: tag name required"
    echo "Usage: git_tag <tag_name> [commit]"
    exit 1
fi

git tag -sv "$tag_name" "$commit"
