
#!/bin/bash
# $ video4k filepath
# ripped from omarchy
# creates a 1080p image thats good for sharing online
# renames file inplace and changes extension go `-1080p.mp4`
# ffmpeg -i $1 -c:v libx265 -preset slow -crf 24 -c:a aac -b:a 192k ${1%.*}-optimized.mp4

ffmpeg -i "$1" \
  -vf "scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:black" \
  -c:v libx265 -preset slow -crf 24 \
  -c:a aac -b:a 192k \
  "${1%.*}-optimized.mp4"
