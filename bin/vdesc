#!/bin/bash

if [[ -d .jj ]]; then
    if [[ -n "$1" ]]; then
        jj desc -m "$1"
    else
        jj desc
    fi
    exit 0
fi

if [[ -n "$1" ]]; then
    git commit --amend -S -m "$1" && git verify-commit HEAD
else
    git commit --amend -S && git verify-commit HEAD
fi
