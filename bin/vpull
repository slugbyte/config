#!/bin/bash

if [[ -d ./.jj ]]; then
    jj git fetch
    exit 0
fi

# Parse arguments
branch="$1"
remote="${2:-origin}"

# Get current branch if branch not specified or is '-'
if [[ -z "$branch" || "$branch" == "-" ]]; then
    branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
    if [[ -z "$branch" ]]; then
        echo "Error: Not a git repository"
        exit 1
    fi
fi

echo "Pulling from $remote/$branch"
git pull "$remote" "$branch" -v
